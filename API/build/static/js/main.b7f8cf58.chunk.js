(this.webpackJsonpui=this.webpackJsonpui||[]).push([[0],{53:function(e,t,a){e.exports=a(89)},58:function(e,t,a){},76:function(e,t,a){},89:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(16),l=a.n(s),o=(a(58),a(42)),i=a(43),c=a(51),d=a(44),h=a(14),u=a(52),m=a(23),p=a.n(m),g=a(45),E=a(47),w=a(17),S=a(50),f=a(26),y=a(5),b=a(27),v=a(28),P=(a(76),a(77),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={otpDisabled:!0,phoneSubmit:"Submit",email:"",password:"",phone:"",otp:"",alertShow:!1,alertVariant:"danger",alertHeading:"",alertMessage:""},a.handleEmailLogin=a.handleEmailLogin.bind(Object(h.a)(a)),a.handlePhoneLogin=a.handlePhoneLogin.bind(Object(h.a)(a)),a.clearText=a.clearText.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"handleEmailLogin",value:function(){if(""===this.state.email||""===this.state.password)this.setState({alertHeading:"Empty Fields",alertMessage:"Email or Password can not be empty",alertVariant:"warning",alertShow:!0});else{var e=this;p()({method:"post",url:"/login-email",data:function(e){for(var t=new URLSearchParams,a=0,r=Object.keys(e);a<r.length;a++){var n=r[a];t.append(n,e[n])}return t}({email:this.state.email,password:this.state.password}),config:{headers:{"content-type":"application/x-www-form-urlencoded"}}}).then((function(t){200===t.status?"success"===t.data.status?(e.setState({alertHeading:"Success",alertMessage:"Login successful",alertVariant:"success",alertShow:!0}),e.clearText()):e.setState({alertHeading:"Failed",alertMessage:"Login failed",alertVariant:"secondary",alertShow:!0}):e.setState({alertHeading:"System Error",alertMessage:"Error occurred with our system. Please contact administrator",alertVariant:"danger",alertShow:!0})})).catch((function(t){e.setState({alertHeading:"System Error",alertMessage:"Error occurred with our system. Please contact administrator",alertVariant:"danger",alertShow:!0})}))}}},{key:"handlePhoneLogin",value:function(){if("Submit"===this.state.phoneSubmit)if(""===this.state.phone)this.setState({alertHeading:"Empty Fields",alertMessage:"Phone Number can not be empty",alertVariant:"warning",alertShow:!0});else{var e=this;p()({method:"post",url:"/login-phone",data:function(e){for(var t=new URLSearchParams,a=0,r=Object.keys(e);a<r.length;a++){var n=r[a];t.append(n,e[n])}return t}({phone:this.state.phone}),config:{headers:{"content-type":"application/x-www-form-urlencoded"}}}).then((function(t){200===t.status?"success"===t.data.status?e.setState({alertHeading:"OTP Sent",alertMessage:"OTP sent successfully to "+t.data.phone,alertVariant:"success",alertShow:!0,otpDisabled:!1,phoneSubmit:"Verify"}):e.setState({alertHeading:"Login failed",alertMessage:"Phone number not valid",alertVariant:"secondary",alertShow:!0}):e.setState({alertHeading:"System Error",alertMessage:"Error occurred with our system. Please contact administrator",alertVariant:"danger",alertShow:!0})})).catch((function(t){e.setState({alertHeading:"System Error",alertMessage:"Error occurred with our system. Please contact administrator",alertVariant:"danger",alertShow:!0})}))}else if(""===this.state.otp)this.setState({alertHeading:"Empty Fields",alertMessage:"OTP can not be empty",alertVariant:"warning",alertShow:!0});else{e=this;p()({method:"post",url:"/otp-verify",data:function(e){for(var t=new URLSearchParams,a=0,r=Object.keys(e);a<r.length;a++){var n=r[a];t.append(n,e[n])}return t}({phone:this.state.phone,otp:this.state.otp}),config:{headers:{"content-type":"application/x-www-form-urlencoded"}}}).then((function(t){200===t.status?"success"===t.data.status?(e.setState({alertHeading:"Success",alertMessage:"Login successful",alertVariant:"success",alertShow:!0}),e.clearText()):e.setState({alertHeading:"Failed",alertMessage:"OTP verification failed",alertVariant:"secondary",alertShow:!0}):e.setState({alertHeading:"System Error",alertMessage:"Error occurred with our system. Please contact administrator",alertVariant:"danger",alertShow:!0})})).catch((function(t){e.setState({alertHeading:"System Error",alertMessage:"Error occurred with our system. Please contact administrator",alertVariant:"danger",alertShow:!0})}))}}},{key:"clearText",value:function(){this.setState({email:"",password:"",phone:"",otp:"",otpDisabled:!0,phoneSubmit:"Submit"})}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"appRoot"},n.a.createElement(g.a,null,n.a.createElement(E.a,null,n.a.createElement(w.a,{className:"appContainer",xs:{span:10,offset:1},md:{span:6,offset:3}},n.a.createElement(S.a,{defaultActiveKey:"email",id:"uncontrolled-tab-example"},n.a.createElement(f.a,{eventKey:"email",title:"Email"},n.a.createElement("br",null),n.a.createElement(y.a,null,n.a.createElement(y.a.Group,{controlId:"formBasicEmail"},n.a.createElement(y.a.Label,null,"Email address"),n.a.createElement(y.a.Control,{value:this.state.email,type:"email",placeholder:"Enter email",onChange:function(t){return e.setState({email:t.target.value})}})),n.a.createElement(y.a.Group,{controlId:"formBasicPassword"},n.a.createElement(y.a.Label,null,"Password"),n.a.createElement(y.a.Control,{value:this.state.password,type:"password",placeholder:"Password",onChange:function(t){return e.setState({password:t.target.value})}}),n.a.createElement(y.a.Text,null,"We trust your typing skills. No confirmation required")),n.a.createElement("div",{className:"right-btn"},n.a.createElement(b.a,{variant:"primary",onClick:this.handleEmailLogin},"Login")))),n.a.createElement(f.a,{eventKey:"phone",title:"Phone"},n.a.createElement("br",null),n.a.createElement(y.a,null,n.a.createElement(y.a.Group,{controlId:"formBasicEmail"},n.a.createElement(y.a.Label,null,"Phone Number (IN)"),n.a.createElement(y.a.Control,{value:this.state.phone,type:"text",pattern:"[789][0-9]{9}",placeholder:"Enter phone number",onChange:function(t){return e.setState({phone:t.target.value})}})),n.a.createElement(y.a.Group,{controlId:"formBasicPassword"},n.a.createElement(y.a.Label,null,"OTP"),n.a.createElement(y.a.Control,{value:this.state.otp,disabled:this.state.otpDisabled,type:"text",placeholder:"Enter OTP",onChange:function(t){return e.setState({otp:t.target.value})}}),n.a.createElement(y.a.Text,null,"Valid for 10 mins")),n.a.createElement("div",{className:"right-btn"},n.a.createElement(b.a,{variant:"primary",onClick:this.handlePhoneLogin},this.state.phoneSubmit)))))))),this.state.alertShow&&n.a.createElement(v.a,{className:"appAlert",variant:this.state.alertVariant,onClose:function(){return e.setState({alertShow:!1})},dismissible:!0},n.a.createElement(v.a.Heading,null,this.state.alertHeading),n.a.createElement("p",null,this.state.alertMessage)))}}]),t}(n.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(n.a.createElement(P,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[53,1,2]]]);
//# sourceMappingURL=main.b7f8cf58.chunk.js.map